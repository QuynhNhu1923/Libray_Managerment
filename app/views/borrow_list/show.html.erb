<div class="mb-3">
  <%= link_to t(".back_to_list"), borrow_list_index_path, class: "btn btn-outline-primary" %>
</div>

<h3><%= t(".detail_title") %></h3>

<p>
  <strong><%= t(".request_date") %>:</strong>
  <%= @borrow_request.request_date.strftime(Settings.date_format.short) %>
</p>
<p>
  <strong><%= t(".start_date") %>:</strong>
  <%= @borrow_request.start_date.strftime(Settings.date_format.short) %>
</p>
<p>
  <strong><%= t(".end_date") %>:</strong>
  <%= @borrow_request.end_date.strftime(Settings.date_format.short) %>
</p>
<p>
  <strong><%= t(".status") %>:</strong>
  <span class="badge <%= status_colors(@borrow_request.status) %>">
    <%= @borrow_request.status.humanize %>
  </span>
  <% if @borrow_request.admin_note.present? %>
    <p>
      <strong><%= t(".admin_note") %>:</strong>
      <%= @borrow_request.admin_note %>
    </p>
  <% end %>

  <% if @borrow_request.approved_date.present? %>
    <p>
      <strong><%= t(".approved_date") %>:</strong>
      <%= @borrow_request.approved_date.strftime(Settings.date_format.short) %>
    </p>
  <% end %>

  <% if @borrow_request.need_update_reason.present? %>
    <p>
      <strong><%= t(".need_update_reason") %>:</strong>
      <%= @borrow_request.need_update_reason %>
    </p>
  <% end %>

  <% if @borrow_request.actual_borrow_date.present? %>
    <p>
      <strong><%= t(".actual_borrow_date") %>:</strong>
      <%= @borrow_request.actual_borrow_date.strftime(Settings.date_format.short) %>
    </p>
  <% end %>

  <% if @borrow_request.actual_return_date.present? %>
    <p>
      <strong><%= t(".actual_return_date") %>:</strong>
      <%= @borrow_request.actual_return_date.strftime(Settings.date_format.short) %>
    </p>
  <% end %>
</p>

<hr>

<h4><%= t(".borrowed_books") %></h4>
<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th><%= t(".seq") %></th>
      <th><%= t(".book_image") %></th>
      <th><%= t(".book_title") %></th>
      <th><%= t(".book_author") %></th>
      <th><%= t(".book_quantity") %></th>
    </tr>
  </thead>
  <tbody>
    <%= render partial: "borrowed_book",
               collection: @borrowed_items,
               as: :borrowed_book,
               locals: {offset: @pagy.from - Settings.digits.digit_1} %>
  </tbody>
</table>
<div class="mt-3">
  <%== pagy_bootstrap_nav(@pagy) if @pagy %>
</div>
